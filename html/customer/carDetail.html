<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>车辆详情</title>
    <link rel="stylesheet"type="text/css" href="../../css/common/bootstrap.min.css">
    <link rel="stylesheet"type="text/css" href="../../css/common/bootstrap-theme.min.css">
    <link rel="stylesheet"type="text/css" href="../../css/common/jquery.raty.css">

    <link rel="stylesheet"type="text/css" href="../../css/common/reset.css">
    <link rel="stylesheet"type="text/css" href="../../css/common/common.css">
    <link rel="stylesheet"type="text/css" href="../../css/customer/carDetail.css">
    <link rel="stylesheet"type="text/css" href="../../css/pagenator/pagination.css">
    <link rel="stylesheet"type="text/css" href="../../css/common/comment.css">

    <style>
        /* 处理评分星星空格宽度太大 */
        .comment-pl-block img {
            margin-right: -8px;
        }
    </style>

    <script type="text/javascript" src="../../js/common/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=HHNwksT3c9XuGE9iwPrL0LLgSF0KzQsg"></script>
    <script type="text/javascript" src="../../js/common/jquery.raty.js"></script>
    <script type="text/javascript" src="../../js/layer/layer.js"></script>
    <script type="text/javascript" src="../../js/customer/carDetail.js"></script>
    <script type="text/javascript" src="../../js/pagenator/jquery.pagination.js"></script>
</head>
<body>
    <div class="header-box"></div>
    <script>
        $(".header-box").load("../common/public-header.html");
    </script>

    <div class="main-content">
        <div class="public-container clearfloat">
            <div class="car-desc-box left-float">
                <div class="car-title">别克英朗/三厢/1.5自动</div>
                <div class="car-img-box">
                    <img class="car-img-big" src="../../images/car-show-1.jpg">
                    <ul class="clearfloat car-img-small-box">
                        <li class="left-float"><a href="javascript:void(0)" onclick="changeCarImg(this);"><img class="car-img-small" src="../../images/car-show-1.jpg"></a></li>
                        <li class="left-float"><a href="javascript:void(0)" onclick="changeCarImg(this);"><img class="car-img-small" src="../../images/car-show-2.jpg"></a></li>
                        <li class="left-float"><a href="javascript:void(0)" onclick="changeCarImg(this);"><img class="car-img-small" src="../../images/car-show-3.jpg"></a></li>
                        <li class="left-float"><a href="javascript:void(0)" onclick="changeCarImg(this);"><img class="car-img-small" src="../../images/car-show-4.jpg"></a></li>
                    </ul>
                </div>
                <div class="car-base-info-box">
                    <dl>
                        <dt class="base-info-title">别克英朗租车基本信息</dt>
                        <dd class="base-info-content">
                            <table class="base-info-content-box">
                                <tr>
                                    <td><img src="../../images/car-conf/brand.png"> 品牌：别克</td>
                                    <td><img src="../../images/car-conf/model.png"> 车系：英朗</td>
                                </tr>
                                <tr>
                                    <td><img src="../../images/car-conf/year.png"> 年代：2016</td>
                                    <td><img src="../../images/car-conf/conf.png"> 配置：高配款</td>
                                </tr>
                            </table>
                        </dd>
                    </dl>
                </div>
                <div class="car-base-info-box">
                    <dl>
                        <dt class="base-info-title">别克英朗租车配置信息</dt>
                        <dd class="base-info-content">
                            <table class="base-info-content-box">
                                <tr>
                                    <td><img src="../../images/car-conf/seat.png"> 座位数：5</td>
                                    <td><img src="../../images/car-conf/door.png"> 车门数：4</td>
                                </tr>
                                <tr>
                                    <td><img src="../../images/car-conf/displacement.png"> 排量：1111</td>
                                    <td><img src="../../images/car-conf/navigator.png"> 导航仪：有</td>
                                </tr>
                                <tr>
                                    <td><img src="../../images/car-conf/pdc.png"> 倒车雷达：有</td>
                                    <td><img src="../../images/car-conf/driven.png"> 驱动模式：前驱</td>
                                </tr>
                                <tr>
                                    <td><img src="../../images/car-conf/navigator.png"> 油箱：40</td>
                                    <td><img src="../../images/car-conf/gear.png"> 变速箱：自动</td>
                                </tr>
                                <tr>
                                    <td><img src="../../images/car-conf/sky.png"> 天窗：有</td>
                                    <td><img src="../../images/car-conf/cell.png"> 安全气囊：有</td>
                                </tr>
                            </table>
                        </dd>
                    </dl>
                </div>
                <div class="order-btn-box">
                    <button class="order-btn" onclick="javascript:window.open('orderPreview.html');">立刻预定</button>
                </div>
            </div>
            <div class="car-store left-float">
                <p class="store-name">武汉天河机场店</p>
                <div id="store-map" class="store-map"></div>
                <div class="store-desc">
                    <dl>
                        <dt class="store-title">门店地址：</dt>
                        <dd class="store-content">T3航站楼国内到达二楼7号出口左面柜台</dd>
                        <dt class="store-title">门店详情：</dt>
                        <dd class="store-content">武汉天河机场店欢迎您</dd>
                        <dt class="store-title">交通指引：</dt>
                        <dd class="store-content">地铁3号线</dd>
                        <dt class="store-title">营业时间：</dt>
                        <dd class="store-content">09:00-21:00</dd>
                        <dt class="store-title">门店电话：</dt>
                        <dd class="store-content">13432825705</dd>
                        <dt class="store-title">客户评价：</dt>
                        <dd class="store-content clearfloat"><div class="comment-star left-float"></div>&nbsp;<span class="orange-text">3.0</span><a href="javascript:void(0)" onclick="showComment('store');" class="total-comment right-float">3000000条评论&gt;</a></dd>
                    </dl>
                </div>
            </div>
        </div>
    </div>

    <div class="footer-box"></div>
    <script>
        $(".footer-box").load("../common/public-footer.html");
    </script>

    <script>
        // 星星
        $('.comment-star').raty({
            starOn:'../../images/star-on.png',
            starOff:'../../images/star-off.png',
            halfShow: false,
            score:3,
            readOnly: true,
        });

        $(function() {
            var map = new BMap.Map("store-map");
            var point = new BMap.Point(116.404, 39.915);  // 根据经纬度设置中心点:天安门
            map.centerAndZoom(point,12);  // 设置中心点和缩放级别，数字越大，显示的范围越小
            map.enableScrollWheelZoom();  // 支持滚轮缩放
            // map.addControl(new BMap.NavigationControl());  // 左上角添加平移缩放控件
            // map.addControl(new BMap.ScaleControl());  // 左下方显示比例
            // 根据地址在地图上显示
            var myGeo = new BMap.Geocoder();
            myGeo.getPoint("武汉天河机场", function(point) {
                if (point) {
                    map.centerAndZoom(point, 17);
                    map.addOverlay(new BMap.Marker(point));    // 标注
                }
            });
        });

    </script>

    <!-- 评论弹框 -->
    <div class="comment-box" style="display: none;">
        <div class="commentAll">
            所有评论
            <div class="comment-show">
                <div class="comment-show-con clearfix">
                    <div class="comment-show-con-img pull-left">
                        <img src="images/header-img-comment_03.png" alt="头像" onerror="this.src='../../images/user/head-if-non.png'">
                    </div>
                    <div class="comment-show-con-list pull-left clearfix">
                        <div class="pl-text clearfix">
                            <a href="#" class="comment-size-name">张三 : </a>
                            <span class="my-pl-con">&nbsp;来啊 造作啊</span>
                        </div>
                        <div class="date-dz">
                            <span class="date-dz-left pull-left comment-time">2017-5-2 11:11:39</span>
                            <div class="date-dz-right pull-right comment-pl-block">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <!-- 评论分页 start -->
        <div class="clearfloat"><div class="m-style comment-pagenator right-float"></div></div>
        <div class="clearfloat">
            <p class="comment-tips right-float">
                总记录
                <span class="count">100</span>条，每页显示
                <span class="count">10</span>条，总页数为
                <span class="count">10</span>页
            </p>
        </div>
        <!-- 评论分页 end -->
    </div>

    <script>
        /* 显示评分的星星 */
        $('.comment-pl-block').raty({
            starOn:'../../images/star-on.png',
            starOff:'../../images/star-off.png',
            hints: ['差', '一般', '好', '非常好', '全五星'],
            halfShow: false,
            score: 3,
            readOnly: true,
            click: function (score, evt) {
            }
        });

        /* 显示分页 */
        $('.comment-pagenator').pagination({
            totalData: 100, // 总记录数
            showData: 10,    // 每页显示记录数
            mode: 'fixed',  // 固定显示多少页数
            callback: function (api) {  // 回调函数
                console.log(api.getCurrent());  // 当前页数
                // @todo ajax分页
            }
        });

        /* 显示评论 */
        function showComment(target) {
            var title = target == "car" ? "汽车评论列表" : "门店评论列表";

            layer.open({
                title: title,
                type: 1,
                closeBtn: 1,  // 调试用
                area: ['650px', '550px'], //宽高
                content: $('.comment-box'),
                cancel: function(index, layero) {
                    $(".comment-box").css("display", "none");  // 隐藏评论表单
                }
            });
        }
    </script>
</body>
</html>